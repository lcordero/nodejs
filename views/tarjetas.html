<!DOCTYPE html>
<script src="/assets/jquery.js"></script>
<script src="/assets/socket.io.js"></script>

<style>
    .btnr, .btnv, .btna {
        padding: 20px 40px;
        font-size: 15px;
        border-radius: 5px;
        cursor: pointer;
        background: white;
        display: block;
        justify-content: space-between;
        right: 20%;
    }
    
    .rojo {
        background: red;
    }
    .verde {
        background: green;
    }
    .amarillo {
        background: yellow;
    }
</style>

<button class = "btnr" name="rojo" id="1">rojo</button>
<br>
<button class = "btnv" name="verde" id="2">verde</button>
<br>
<button class = "btna" name="amarillo" id="3">amarillo</button>

<script>
    btnr = $(".btnr")
    btnv = $(".btnv")
    btna = $(".btna")
    boton_cambio = $(':button')
    send_content = $(':button')

    function tarjeta(name,color){
        this.name = name;
        this.color = color;
    }
    
btnr.on("click", function(name){
   $(".btnr").toggleClass("rojo")
    console.log("red")
});
btnr.on("click", function(color){
   $(".btnr").hasClass("rojo").toString();
    console.log("nombre")
});

 //$ (".btnr").click(function() {
 //    $(".btnr").toggleClass("rojo");
 //    console.log("click XD")
 //});

 $ (".btnv").click(function(color) {
     $(".btnv").toggleClass("verde");
     console.log("click XC")
 });
 $ (".btnv").click(function(name) {
     $(".btnv").hasClass("verde").toString();
     console.log("click XC")
 });

 $ (".btna").click(function(color) {
     $(".btna").toggleClass("amarillo");
     console.log("click X/")
 });
 $ (".btna").click(function(name) {
     $(".btna").hasClass("amarillo").toString();
     console.log("click X/")
 });
 
    var socket = io.connect(window.location.host);
    socket.on('connect', function() {
        console.log('connect');
    });

    socket.on('cam_tarjeta', function(tarjeta) {
        if (!tarjeta.name || !tarjeta.color) return
        btnr.append('btnr, btnv, btna')   
        
    });


    send_content.on("click", function(){
        console.log(tarjeta);
      
           name = $(this).attr('name');
        $.post("http://localhost:3001/api/tarjeta",{
        name : name,
        color : $(this).hasClass(name)
        });
        
        send_content.val();
    });
    
   // $( document ).ready(function() {
     //   console.log('El documento se cargo');
    //})    
    var load_content =function(url) {
        $.get( url, function( data ) {
            boton_cambio.empty()
            $.each( data.tarjeta, function( i, tarjeta ) {
                boton_cambio.append()
            })
        })
    }
    load_content('http://'+ window.location.host +'/tarjeta')
    
    

</script>
